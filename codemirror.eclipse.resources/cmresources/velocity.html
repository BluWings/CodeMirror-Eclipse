<!doctype html>
<html>
	<head>
		<title>Velocity</title>
    
	    <!-- CodeMirror -->
	    <link rel="stylesheet" href="scripts/codemirror/lib/codemirror.css">
	    <script src="scripts/codemirror/lib/codemirror.js"></script>	
		<script src="scripts/codemirror/addon/selection/active-line.js"></script>
		<script src="scripts/codemirror/mode/velocity/velocity.js"></script>
		    
		<script src="scripts/codemirror/addon/lint/lint.js"></script>
	    <link rel="stylesheet" href="scripts/codemirror/addon/lint/lint.css">
	    		    
		<!-- CodeMirror-XQuery -->		    
		<script src="scripts/codemirror-xquery/addon/selection/fullscreen.js"></script>
		<link rel="stylesheet" href="scripts/codemirror-xquery/addon/selection/fullscreen.css">
		    
		<!-- SWT Browser - CodeMirror -->
		<script src="scripts/eclipse/cm-eclipse.js"></script>
			
		<style>
			.CodeMirror-activeline-background {background: #e8f2ff !important;}
			div.CodeMirror span.CodeMirror-matchingbracket{color:black;font-weight:bold;}
		</style>
		
	</head>
		
	<body onload="CMEclipse.loaded()" >
		<form>
			<textarea id="code" name="code" ></textarea>
		</form>	
		<script>
		
		function cm_validate(code) {
		window.alert(code);
		var found=[];
		found.push( {
			startLine:0,
			startChar:1,
			endLine:0,
			endChar:3,
			message :'eee'
		});
		return found;
		}
				    
			var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
		        mode: "velocity",
				lineNumbers: true,	        
		        styleActiveLine: true,
		        lineNumbers: true,
		        lineWrapping: true,
		        gutters: ["CodeMirror-lint-markers", "CodeMirror-linenumbers"],
		        lintWith : {
					"getAnnotations" : CMEclipse.validate,			
					"async" : true
				}
		    });			 
		</script>
	</body>	
</html>